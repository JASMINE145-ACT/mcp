# 🤖 AI 数据分析助手

欢迎使用智能数据分析系统！

## ✨ 功能特色

### 🧠 多模型协作
- **GPT-5-nano**: 智能规划分析方案
- **Claude Sonnet 4.5**: 生成高质量分析代码
- **Gemini 2.0**: 验证代码逻辑和可行性
- **GPT-4o-mini**: 解读分析结果

### 💬 智能对话
- 支持自然语言提问
- 多轮对话式规划
- 自动识别意图（明确 vs 模糊）
- 交互式确认机制

### 📊 数据分析能力
- 统计计算（均值、中位数、标准差等）
- 数据分组和聚合
- 相关性分析
- 趋势分析

### 📈 可视化
- 自动生成图表
- 支持多种图表类型：
  - 直方图
  - 箱线图  
  - 散点图
  - 折线图
  - 热力图
- 完美支持中文显示

### 🔧 技术支持
- **数据处理**: Pandas, NumPy
- **统计分析**: SciPy, scikit-learn
- **可视化**: Matplotlib, Seaborn
- **查询**: SQL (DuckDB)

## 🚀 使用方法

### 1. 上传数据
点击上传按钮，选择您的 CSV 文件（最大 100MB）

### 2. 提出问题
支持两种提问方式：

**明确问题**（直接生成计划）:
- "计算平均价格"
- "画一个销售额的直方图"
- "分析价格和数量的相关性"

**探索性问题**（对话式澄清）:
- "这个数据集有什么特点？"
- "帮我分析一下销售情况"
- "有什么有趣的发现吗？"

### 3. 确认执行
- 系统会生成分析计划并展示
- 您可以提供反馈修改计划
- 确认后自动执行并展示结果

### 4. 查看结果
- 📊 数据表格
- 📈 可视化图表
- 💡 AI 分析解读
- 💭 进一步建议

## 📝 示例问题

### 基础统计
```
计算销售额的平均值和中位数
各个类别的销售总额是多少
```

### 数据分布
```
分析价格的分布情况
画一个单价的直方图
不同地区的销售额箱线图
```

### 对比分析
```
对比各月份的销售趋势
不同产品类别的价格差异
```

### 相关性分析
```
价格和销量有什么关系
分析影响销售额的因素
```

## ⚙️ 高级功能

### 多轮对话
系统会记住对话上下文，您可以：
- 基于上一个分析继续提问
- 修改和优化分析方案
- 逐步深入探索数据

### 自动重试
- 代码执行失败时自动重试（最多3次）
- Gemini 验证失败时自动修正
- 智能错误恢复

### 中文支持
- 完美支持中文列名
- 中文图表标题和标签
- 中文交互界面

## 💡 最佳实践

1. **明确需求**: 尽量具体地描述您的分析目标
2. **查看计划**: 执行前检查分析计划是否符合预期
3. **迭代优化**: 根据结果持续调整问题
4. **保存结果**: 重要的图表可以右键保存

## 🔒 数据安全

- 数据仅在会话期间存储
- 不会上传到外部服务器
- 分析代码在沙箱环境中执行
- 自动清理临时文件

## 📞 需要帮助？

如果遇到问题，可以尝试：
- 重新表述您的问题
- 点击"重新开始"按钮
- 查看生成的代码了解分析逻辑

---

**准备好了吗？** 上传您的 CSV 文件，开始智能数据分析之旅！

